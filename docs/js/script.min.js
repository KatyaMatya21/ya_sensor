var buttonMenu=document.querySelector(".js-menu-button"),menu=document.querySelector(".header-menu");buttonMenu.addEventListener("click",function(){menu.classList.toggle("header-menu--opened")});var data,grid=document.querySelector(".grid"),template=document.querySelector("#moduleTemplate"),moduleTemplate=template.content.querySelector(".module"),modulePicture=template.content.querySelector(".module__picture"),xhr=new XMLHttpRequest;xhr.open("GET","events.json",!1),xhr.send(),200!=xhr.status?alert(xhr.status+": "+xhr.statusText):data=JSON.parse(xhr.responseText);var events=data.events;function createElementFromHTML(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild}function parseTemplate(e,t){var n=e.outerHTML;return Object.keys(t).forEach(function(e){null===t[e]&&(t[e]=""),n=n.replace("{{ "+e+" }}",t[e])}),createElementFromHTML(n)}for(var i=0;i<events.length;i++){var module=moduleTemplate.cloneNode(!0);if(module=parseTemplate(moduleTemplate,events[i]),""===events[i].description&&module.querySelector(".module__message").classList.add("module__message--disabled"),"data"in events[i]&&"cam"===events[i].icon){var picture=modulePicture.cloneNode(!0);module.querySelector(".module__message").appendChild(picture)}grid.appendChild(module)}var imageContainer=document.querySelector(".module__picture"),image=document.querySelector(".module__image"),imageWindow=imageContainer.offsetWidth,imageWidth=image.offsetWidth;image.style.left="0px";var currentGesture=null,fingers=[],moveToStartPosition=function(){imageWindow=imageContainer.offsetWidth,image.style.left="0px",fingers=[],currentGesture=null};window.addEventListener("resize",function(){moveToStartPosition()}),imageContainer.addEventListener("pointerdown",function(e){fingers.push(e.pointerId),imageContainer.setPointerCapture(e.pointerId),currentGesture={startX:e.x}}),imageContainer.addEventListener("pointermove",function(e){if(currentGesture)if(1<fingers.length)document.querySelector("body").style.background="red",document.querySelector("body").style.background="blue";else{var t=currentGesture.startX,n=e.x,r=n-t,i=1*image.style.left.replace("px","");0<r?i+=Math.abs(r):i-=Math.abs(r),0<i&&(i=0),i<imageWindow-imageWidth&&(i=imageWindow-imageWidth),image.style.left=i+"px",currentGesture.startX=n}}),imageContainer.addEventListener("pointerup",function(e){currentGesture=null,fingers.splice(fingers.indexOf(e.pointerId),1)}),imageContainer.addEventListener("pointercancel",moveToStartPosition);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJidXR0b25NZW51IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibWVudSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJkYXRhIiwiZ3JpZCIsInRlbXBsYXRlIiwibW9kdWxlVGVtcGxhdGUiLCJjb250ZW50IiwibW9kdWxlUGljdHVyZSIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInNlbmQiLCJzdGF0dXMiLCJhbGVydCIsInN0YXR1c1RleHQiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJldmVudHMiLCJjcmVhdGVFbGVtZW50RnJvbUhUTUwiLCJodG1sU3RyaW5nIiwiZGl2IiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsInRyaW0iLCJmaXJzdENoaWxkIiwicGFyc2VUZW1wbGF0ZSIsInZhcmlhYmxlcyIsInJlc3VsdCIsIm91dGVySFRNTCIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwia2V5IiwicmVwbGFjZSIsImkiLCJsZW5ndGgiLCJtb2R1bGUiLCJjbG9uZU5vZGUiLCJkZXNjcmlwdGlvbiIsImFkZCIsImljb24iLCJwaWN0dXJlIiwiYXBwZW5kQ2hpbGQiLCJpbWFnZUNvbnRhaW5lciIsImltYWdlIiwiaW1hZ2VXaW5kb3ciLCJvZmZzZXRXaWR0aCIsImltYWdlV2lkdGgiLCJzdHlsZSIsImxlZnQiLCJjdXJyZW50R2VzdHVyZSIsImZpbmdlcnMiLCJtb3ZlVG9TdGFydFBvc2l0aW9uIiwid2luZG93IiwiZXZlbnQiLCJwdXNoIiwicG9pbnRlcklkIiwic2V0UG9pbnRlckNhcHR1cmUiLCJzdGFydFgiLCJ4IiwiYmFja2dyb3VuZCIsImR4IiwiTWF0aCIsImFicyIsInNwbGljZSIsImluZGV4T2YiXSwibWFwcGluZ3MiOiJBQUFBLElBQUlBLFdBQWFDLFNBQVNDLGNBQWMsbUJBQ3BDQyxLQUFPRixTQUFTQyxjQUFjLGdCQUVsQ0YsV0FB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RWpCQyxRQUFRYSxPQUFPYixRQUFRYyxRQUFRWCxFQUFNRSxXQUFZLEtBR25EYixlQUFlN0MsaUJBQWlCLGdCQUFpQnNEIiwiZmlsZSI6InNjcmlwdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYnV0dG9uTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1tZW51LWJ1dHRvbicpO1xudmFyIG1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLW1lbnUnKTtcblxuYnV0dG9uTWVudS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgbWVudS5jbGFzc0xpc3QudG9nZ2xlKCdoZWFkZXItbWVudS0tb3BlbmVkJyk7XG59KTtcblxudmFyIGdyaWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ3JpZCcpO1xuXG52YXIgdGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbW9kdWxlVGVtcGxhdGUnKTtcblxudmFyIG1vZHVsZVRlbXBsYXRlID0gdGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yKCcubW9kdWxlJyk7XG52YXIgbW9kdWxlUGljdHVyZSA9IHRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLm1vZHVsZV9fcGljdHVyZScpO1xuXG52YXIgZGF0YTtcblxudmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xueGhyLm9wZW4oJ0dFVCcsICdldmVudHMuanNvbicsIGZhbHNlKTtcbnhoci5zZW5kKCk7XG5pZiAoeGhyLnN0YXR1cyAhPSAyMDApIHtcbiAgYWxlcnQoIHhoci5zdGF0dXMgKyAnOiAnICsgeGhyLnN0YXR1c1RleHQgKTtcbn0gZWxzZSB7XG4gIGRhdGEgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xufVxuXG52YXIgZXZlbnRzID0gZGF0YS5ldmVudHM7XG5cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRGcm9tSFRNTChodG1sU3RyaW5nKSB7XG4gIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZGl2LmlubmVySFRNTCA9IGh0bWxTdHJpbmcudHJpbSgpO1xuICByZXR1cm4gZGl2LmZpcnN0Q2hpbGQ7XG59XG5cbmZ1bmN0aW9uIHBhcnNlVGVtcGxhdGUodGVtcGxhdGUsIHZhcmlhYmxlcykge1xuICB2YXIgcmVzdWx0ID0gdGVtcGxhdGUub3V0ZXJIVE1MO1xuICBPYmplY3Qua2V5cyh2YXJpYWJsZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmICh2YXJpYWJsZXNba2V5XSA9PT0gbnVsbCkge1xuICAgICAgdmFyaWFibGVzW2tleV0gPSAnJztcbiAgICB9XG4gICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoJ3t7ICcgKyBrZXkgKyAnIH19JywgdmFyaWFibGVzW2tleV0pO1xuICB9KTtcbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnRGcm9tSFRNTChyZXN1bHQpO1xufVxuXG5mb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7IGkrKykge1xuXG4gIHZhciBtb2R1bGUgPSBtb2R1bGVUZW1wbGF0ZS5jbG9uZU5vZGUodHJ1ZSk7XG4gIG1vZHVsZSA9IHBhcnNlVGVtcGxhdGUobW9kdWxlVGVtcGxhdGUsIGV2ZW50c1tpXSk7XG5cbiAgaWYgKGV2ZW50c1tpXS5kZXNjcmlwdGlvbiA9PT0gJycpIHtcbiAgICBtb2R1bGUucXVlcnlTZWxlY3RvcignLm1vZHVsZV9fbWVzc2FnZScpLmNsYXNzTGlzdC5hZGQoJ21vZHVsZV9fbWVzc2FnZS0tZGlzYWJsZWQnKTtcbiAgfVxuXG4gIGlmICgnZGF0YScgaW4gZXZlbnRzW2ldKSB7XG5cbiAgICBpZiAoZXZlbnRzW2ldLmljb24gPT09ICdjYW0nKSB7XG4gICAgICB2YXIgcGljdHVyZSA9IG1vZHVsZVBpY3R1cmUuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgbW9kdWxlLnF1ZXJ5U2VsZWN0b3IoJy5tb2R1bGVfX21lc3NhZ2UnKS5hcHBlbmRDaGlsZChwaWN0dXJlKTtcbiAgICB9XG5cbiAgfVxuXG4gIGdyaWQuYXBwZW5kQ2hpbGQobW9kdWxlKTtcbn1cblxudmFyIGltYWdlQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZHVsZV9fcGljdHVyZScpO1xudmFyIGltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZHVsZV9faW1hZ2UnKTtcblxudmFyIGltYWdlV2luZG93ID0gaW1hZ2VDb250YWluZXIub2Zmc2V0V2lkdGg7XG52YXIgaW1hZ2VXaWR0aCA9IGltYWdlLm9mZnNldFdpZHRoO1xuXG5pbWFnZS5zdHlsZS5sZWZ0ID0gJzBweCc7XG5cbnZhciBjdXJyZW50R2VzdHVyZSA9IG51bGw7XG52YXIgZmluZ2VycyA9IFtdO1xuXG52YXIgbW92ZVRvU3RhcnRQb3NpdGlvbiA9IGZ1bmN0aW9uKCkge1xuICBpbWFnZVdpbmRvdyA9IGltYWdlQ29udGFpbmVyLm9mZnNldFdpZHRoO1xuICBpbWFnZS5zdHlsZS5sZWZ0ID0gJzBweCc7XG4gIGZpbmdlcnMgPSBbXTtcbiAgY3VycmVudEdlc3R1cmUgPSBudWxsO1xufTtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uKCkge1xuICBtb3ZlVG9TdGFydFBvc2l0aW9uKCk7XG59KTtcblxuaW1hZ2VDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgZmluZ2Vycy5wdXNoKGV2ZW50LnBvaW50ZXJJZCk7XG5cbiAgaW1hZ2VDb250YWluZXIuc2V0UG9pbnRlckNhcHR1cmUoZXZlbnQucG9pbnRlcklkKTtcblxuICBjdXJyZW50R2VzdHVyZSA9IHtcbiAgICBzdGFydFg6IGV2ZW50LnhcbiAgfTtcbn0pO1xuXG5pbWFnZUNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIGZ1bmN0aW9uIChldmVudCkge1xuICBpZiAoIWN1cnJlbnRHZXN0dXJlKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBpZiAoZmluZ2Vycy5sZW5ndGggPiAxKSB7XG5cbiAgICAvLyBwaW5jaFxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKS5zdHlsZS5iYWNrZ3JvdW5kID0gJ3JlZCc7XG5cbiAgICAvLyByb3RhdGVcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jykuc3R5bGUuYmFja2dyb3VuZCA9ICdibHVlJztcblxuICB9IGVsc2Uge1xuXG4gICAgLy8gbW92ZVxuICAgIHZhciBzdGFydFggPSBjdXJyZW50R2VzdHVyZS5zdGFydFg7XG4gICAgdmFyIHggPSBldmVudC54O1xuICAgIHZhciBkeCA9IHggLSBzdGFydFg7XG4gICAgdmFyIGxlZnQgPSBpbWFnZS5zdHlsZS5sZWZ0LnJlcGxhY2UoJ3B4JywgJycpICogMTtcblxuICAgIGR4ID4gMCA/IGxlZnQgKz0gTWF0aC5hYnMoZHgpIDogbGVmdCAtPSBNYXRoLmFicyhkeCk7XG5cbiAgICBpZiAobGVmdCA+IDApIHtcbiAgICAgIGxlZnQgPSAwO1xuICAgIH1cblxuICAgIGlmIChsZWZ0IDwgaW1hZ2VXaW5kb3cgLSBpbWFnZVdpZHRoKSB7XG4gICAgICBsZWZ0ID0gaW1hZ2VXaW5kb3cgLSBpbWFnZVdpZHRoO1xuICAgIH1cblxuICAgIGltYWdlLnN0eWxlLmxlZnQgPSBsZWZ0ICsgJ3B4JztcbiAgICBjdXJyZW50R2VzdHVyZS5zdGFydFggPSB4O1xuXG4gIH1cbn0pO1xuXG5pbWFnZUNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgY3VycmVudEdlc3R1cmUgPSBudWxsO1xuXG4gIGZpbmdlcnMuc3BsaWNlKGZpbmdlcnMuaW5kZXhPZihldmVudC5wb2ludGVySWQpLCAxKTtcbn0pO1xuXG5pbWFnZUNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyY2FuY2VsJywgbW92ZVRvU3RhcnRQb3NpdGlvbik7XG5cbiJdfQ==
