var buttonMenu=document.querySelector(".js-menu-button"),menu=document.querySelector(".header-menu");buttonMenu.addEventListener("click",function(){menu.classList.toggle("header-menu--opened")});var data,grid=document.querySelector(".grid"),template=document.querySelector("#moduleTemplate"),moduleTemplate=template.content.querySelector(".module"),modulePicture=template.content.querySelector(".module__picture"),xhr=new XMLHttpRequest;xhr.open("GET","events.json",!1),xhr.send(),200!=xhr.status?alert(xhr.status+": "+xhr.statusText):data=JSON.parse(xhr.responseText);var events=data.events;function createElementFromHTML(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild}function parseTemplate(e,t){var n=e.outerHTML;return Object.keys(t).forEach(function(e){null===t[e]&&(t[e]=""),n=n.replace("{{ "+e+" }}",t[e])}),createElementFromHTML(n)}for(var i=0;i<events.length;i++){var module=moduleTemplate.cloneNode(!0);if(module=parseTemplate(moduleTemplate,events[i]),""===events[i].description&&module.querySelector(".module__message").classList.add("module__message--disabled"),"data"in events[i]&&"cam"===events[i].icon){var picture=modulePicture.cloneNode(!0);module.querySelector(".module__message").appendChild(picture)}grid.appendChild(module)}var imageContainer=document.querySelector(".module__picture"),image=document.querySelector(".module__image"),imageWindow=imageContainer.offsetWidth,imageWidth=image.offsetWidth;image.style.left="0px";var currentGesture=null,fingers=[],moveToStartPosition=function(){imageWindow=imageContainer.offsetWidth,image.style.left="0px",fingers=[],currentGesture=null};window.addEventListener("resize",function(){moveToStartPosition()}),imageContainer.addEventListener("pointerdown",function(e){fingers.push(e.pointerId),imageContainer.setPointerCapture(e.pointerId),currentGesture={startX:e.x}}),imageContainer.addEventListener("pointermove",function(e){if(currentGesture)if(2===fingers.length)document.querySelector("body").style.background="red";else{var t=currentGesture.startX,n=e.x,r=n-t,i=1*image.style.left.replace("px","");0<r?i+=Math.abs(r):i-=Math.abs(r),0<i&&(i=0),i<imageWindow-imageWidth&&(i=imageWindow-imageWidth),image.style.left=i+"px",currentGesture.startX=n}}),imageContainer.addEventListener("pointerup",function(e){currentGesture=null,fingers.splice(fingers.indexOf(e.pointerId),1)}),imageContainer.addEventListener("pointercancel",moveToStartPosition);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJidXR0b25NZW51IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibWVudSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJkYXRhIiwiZ3JpZCIsInRlbXBsYXRlIiwibW9kdWxlVGVtcGxhdGUiLCJjb250ZW50IiwibW9kdWxlUGljdHVyZSIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInNlbmQiLCJzdGF0dXMiLCJhbGVydCIsInN0YXR1c1RleHQiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJldmVudHMiLCJjcmVhdGVFbGVtZW50RnJvbUhUTUwiLCJodG1sU3RyaW5nIiwiZGl2IiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsInRyaW0iLCJmaXJzdENoaWxkIiwicGFyc2VUZW1wbGF0ZSIsInZhcmlhYmxlcyIsInJlc3VsdCIsIm91dGVySFRNTCIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwia2V5IiwicmVwbGFjZSIsImkiLCJsZW5ndGgiLCJtb2R1bGUiLCJjbG9uZU5vZGUiLCJkZXNjcmlwdGlvbiIsImFkZCIsImljb24iLCJwaWN0dXJlIiwiYXBwZW5kQ2hpbGQiLCJpbWFnZUNvbnRhaW5lciIsImltYWdlIiwiaW1hZ2VXaW5kb3ciLCJvZmZzZXRXaWR0aCIsImltYWdlV2lkdGgiLCJzdHlsZSIsImxlZnQiLCJjdXJyZW50R2VzdHVyZSIsImZpbmdlcnMiLCJtb3ZlVG9TdGFydFBvc2l0aW9uIiwid2luZG93IiwiZXZlbnQiLCJwdXNoIiwicG9pbnRlcklkIiwic2V0UG9pbnRlckNhcHR1cmUiLCJzdGFydFgiLCJ4IiwiYmFja2dyb3VuZCIsImR4IiwiTWF0aCIsImFicyIsInNwbGljZSIsImluZGV4T2YiXSwibWFwcGluZ3MiOiJBQUFBLElBQUlBLFdBQWFDLFNBQVNDLGNBQWMsbUJBQ3BDQyxLQUFPRixTQUFTQyxjQUFjLGdCQUVsQ0YsV0FB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QVksS0FHbkRiLGVBQWU3QyxpQkFBaUIsZ0JBQWlCc0QiLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBidXR0b25NZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLW1lbnUtYnV0dG9uJyk7XG52YXIgbWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItbWVudScpO1xuXG5idXR0b25NZW51LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICBtZW51LmNsYXNzTGlzdC50b2dnbGUoJ2hlYWRlci1tZW51LS1vcGVuZWQnKTtcbn0pO1xuXG52YXIgZ3JpZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ncmlkJyk7XG5cbnZhciB0ZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtb2R1bGVUZW1wbGF0ZScpO1xuXG52YXIgbW9kdWxlVGVtcGxhdGUgPSB0ZW1wbGF0ZS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2R1bGUnKTtcbnZhciBtb2R1bGVQaWN0dXJlID0gdGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19waWN0dXJlJyk7XG5cbnZhciBkYXRhO1xuXG52YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG54aHIub3BlbignR0VUJywgJ2V2ZW50cy5qc29uJywgZmFsc2UpO1xueGhyLnNlbmQoKTtcbmlmICh4aHIuc3RhdHVzICE9IDIwMCkge1xuICBhbGVydCggeGhyLnN0YXR1cyArICc6ICcgKyB4aHIuc3RhdHVzVGV4dCApO1xufSBlbHNlIHtcbiAgZGF0YSA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCk7XG59XG5cbnZhciBldmVudHMgPSBkYXRhLmV2ZW50cztcblxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudEZyb21IVE1MKGh0bWxTdHJpbmcpIHtcbiAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkaXYuaW5uZXJIVE1MID0gaHRtbFN0cmluZy50cmltKCk7XG4gIHJldHVybiBkaXYuZmlyc3RDaGlsZDtcbn1cblxuZnVuY3Rpb24gcGFyc2VUZW1wbGF0ZSh0ZW1wbGF0ZSwgdmFyaWFibGVzKSB7XG4gIHZhciByZXN1bHQgPSB0ZW1wbGF0ZS5vdXRlckhUTUw7XG4gIE9iamVjdC5rZXlzKHZhcmlhYmxlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKHZhcmlhYmxlc1trZXldID09PSBudWxsKSB7XG4gICAgICB2YXJpYWJsZXNba2V5XSA9ICcnO1xuICAgIH1cbiAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZSgne3sgJyArIGtleSArICcgfX0nLCB2YXJpYWJsZXNba2V5XSk7XG4gIH0pO1xuICByZXR1cm4gY3JlYXRlRWxlbWVudEZyb21IVE1MKHJlc3VsdCk7XG59XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKSB7XG5cbiAgdmFyIG1vZHVsZSA9IG1vZHVsZVRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcbiAgbW9kdWxlID0gcGFyc2VUZW1wbGF0ZShtb2R1bGVUZW1wbGF0ZSwgZXZlbnRzW2ldKTtcblxuICBpZiAoZXZlbnRzW2ldLmRlc2NyaXB0aW9uID09PSAnJykge1xuICAgIG1vZHVsZS5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19tZXNzYWdlJykuY2xhc3NMaXN0LmFkZCgnbW9kdWxlX19tZXNzYWdlLS1kaXNhYmxlZCcpO1xuICB9XG5cbiAgaWYgKCdkYXRhJyBpbiBldmVudHNbaV0pIHtcblxuICAgIGlmIChldmVudHNbaV0uaWNvbiA9PT0gJ2NhbScpIHtcbiAgICAgIHZhciBwaWN0dXJlID0gbW9kdWxlUGljdHVyZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBtb2R1bGUucXVlcnlTZWxlY3RvcignLm1vZHVsZV9fbWVzc2FnZScpLmFwcGVuZENoaWxkKHBpY3R1cmUpO1xuICAgIH1cblxuICB9XG5cbiAgZ3JpZC5hcHBlbmRDaGlsZChtb2R1bGUpO1xufVxuXG52YXIgaW1hZ2VDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19waWN0dXJlJyk7XG52YXIgaW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19pbWFnZScpO1xuXG52YXIgaW1hZ2VXaW5kb3cgPSBpbWFnZUNvbnRhaW5lci5vZmZzZXRXaWR0aDtcbnZhciBpbWFnZVdpZHRoID0gaW1hZ2Uub2Zmc2V0V2lkdGg7XG5cbmltYWdlLnN0eWxlLmxlZnQgPSAnMHB4JztcblxudmFyIGN1cnJlbnRHZXN0dXJlID0gbnVsbDtcbnZhciBmaW5nZXJzID0gW107XG5cbnZhciBtb3ZlVG9TdGFydFBvc2l0aW9uID0gZnVuY3Rpb24oKSB7XG4gIGltYWdlV2luZG93ID0gaW1hZ2VDb250YWluZXIub2Zmc2V0V2lkdGg7XG4gIGltYWdlLnN0eWxlLmxlZnQgPSAnMHB4JztcbiAgZmluZ2VycyA9IFtdO1xuICBjdXJyZW50R2VzdHVyZSA9IG51bGw7XG59O1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24oKSB7XG4gIG1vdmVUb1N0YXJ0UG9zaXRpb24oKTtcbn0pO1xuXG5pbWFnZUNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIGZ1bmN0aW9uIChldmVudCkge1xuICBmaW5nZXJzLnB1c2goZXZlbnQucG9pbnRlcklkKTtcblxuICBpbWFnZUNvbnRhaW5lci5zZXRQb2ludGVyQ2FwdHVyZShldmVudC5wb2ludGVySWQpO1xuXG4gIGN1cnJlbnRHZXN0dXJlID0ge1xuICAgIHN0YXJ0WDogZXZlbnQueFxuICB9O1xufSk7XG5cbmltYWdlQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gIGlmICghY3VycmVudEdlc3R1cmUpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGlmIChmaW5nZXJzLmxlbmd0aCA9PT0gMikge1xuXG4gICAgLy8gcGluY2hcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jykuc3R5bGUuYmFja2dyb3VuZCA9ICdyZWQnO1xuXG4gIH0gZWxzZSB7XG5cbiAgICAvLyBtb3ZlXG4gICAgdmFyIHN0YXJ0WCA9IGN1cnJlbnRHZXN0dXJlLnN0YXJ0WDtcbiAgICB2YXIgeCA9IGV2ZW50Lng7XG4gICAgdmFyIGR4ID0geCAtIHN0YXJ0WDtcbiAgICB2YXIgbGVmdCA9IGltYWdlLnN0eWxlLmxlZnQucmVwbGFjZSgncHgnLCAnJykgKiAxO1xuXG4gICAgZHggPiAwID8gbGVmdCArPSBNYXRoLmFicyhkeCkgOiBsZWZ0IC09IE1hdGguYWJzKGR4KTtcblxuICAgIGlmIChsZWZ0ID4gMCkge1xuICAgICAgbGVmdCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKGxlZnQgPCBpbWFnZVdpbmRvdyAtIGltYWdlV2lkdGgpIHtcbiAgICAgIGxlZnQgPSBpbWFnZVdpbmRvdyAtIGltYWdlV2lkdGg7XG4gICAgfVxuXG4gICAgaW1hZ2Uuc3R5bGUubGVmdCA9IGxlZnQgKyAncHgnO1xuICAgIGN1cnJlbnRHZXN0dXJlLnN0YXJ0WCA9IHg7XG5cbiAgfVxufSk7XG5cbmltYWdlQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIGZ1bmN0aW9uIChldmVudCkge1xuICBjdXJyZW50R2VzdHVyZSA9IG51bGw7XG5cbiAgZmluZ2Vycy5zcGxpY2UoZmluZ2Vycy5pbmRleE9mKGV2ZW50LnBvaW50ZXJJZCksIDEpO1xufSk7XG5cbmltYWdlQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCBtb3ZlVG9TdGFydFBvc2l0aW9uKTtcblxuIl19
