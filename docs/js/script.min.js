var buttonMenu=document.querySelector(".js-menu-button"),menu=document.querySelector(".header-menu");buttonMenu.addEventListener("click",function(){menu.classList.toggle("header-menu--opened")});var data,grid=document.querySelector(".grid"),template=document.querySelector("#moduleTemplate"),moduleTemplate=template.content.querySelector(".module"),modulePicture=template.content.querySelector(".module__picture"),xhr=new XMLHttpRequest;xhr.open("GET","events.json",!1),xhr.send(),200!=xhr.status?alert(xhr.status+": "+xhr.statusText):data=JSON.parse(xhr.responseText);var events=data.events;function createElementFromHTML(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild}function parseTemplate(e,t){var r=e.outerHTML;return Object.keys(t).forEach(function(e){null===t[e]&&(t[e]=""),r=r.replace("{{ "+e+" }}",t[e])}),createElementFromHTML(r)}for(var i=0;i<events.length;i++){var module=moduleTemplate.cloneNode(!0);if(module=parseTemplate(moduleTemplate,events[i]),""===events[i].description&&module.querySelector(".module__message").classList.add("module__message--disabled"),"data"in events[i]&&"cam"===events[i].icon){var picture=modulePicture.cloneNode(!0);module.querySelector(".module__message").appendChild(picture)}grid.appendChild(module)}var imageContainer=document.querySelector(".module__picture"),image=document.querySelector(".module__image"),imageWindow=imageContainer.offsetWidth,imageWidth=image.offsetWidth;image.style.left="0px";var currentGesture=null;window.addEventListener("resize",function(){imageWindow=imageContainer.offsetWidth,image.style.left="0px"}),imageContainer.addEventListener("pointerdown",function(e){imageContainer.setPointerCapture(e.pointerId),currentGesture={startX:e.x}}),imageContainer.addEventListener("pointermove",function(e){if(currentGesture){var t=currentGesture.startX,r=e.x,n=r-t,a=1*image.style.left.replace("px","");0<n?a+=Math.abs(n):a-=Math.abs(n),0<a&&(a=0),a<imageWindow-imageWidth&&(a=imageWindow-imageWidth),image.style.left=a+"px",currentGesture.startX=r}}),imageContainer.addEventListener("pointerup",function(){currentGesture=null});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJidXR0b25NZW51IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibWVudSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJkYXRhIiwiZ3JpZCIsInRlbXBsYXRlIiwibW9kdWxlVGVtcGxhdGUiLCJjb250ZW50IiwibW9kdWxlUGljdHVyZSIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInNlbmQiLCJzdGF0dXMiLCJhbGVydCIsInN0YXR1c1RleHQiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJldmVudHMiLCJjcmVhdGVFbGVtZW50RnJvbUhUTUwiLCJodG1sU3RyaW5nIiwiZGl2IiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsInRyaW0iLCJmaXJzdENoaWxkIiwicGFyc2VUZW1wbGF0ZSIsInZhcmlhYmxlcyIsInJlc3VsdCIsIm91dGVySFRNTCIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwia2V5IiwicmVwbGFjZSIsImkiLCJsZW5ndGgiLCJtb2R1bGUiLCJjbG9uZU5vZGUiLCJkZXNjcmlwdGlvbiIsImFkZCIsImljb24iLCJwaWN0dXJlIiwiYXBwZW5kQ2hpbGQiLCJpbWFnZUNvbnRhaW5lciIsImltYWdlIiwiaW1hZ2VXaW5kb3ciLCJvZmZzZXRXaWR0aCIsImltYWdlV2lkdGgiLCJzdHlsZSIsImxlZnQiLCJjdXJyZW50R2VzdHVyZSIsIndpbmRvdyIsImV2ZW50Iiwic2V0UG9pbnRlckNhcHR1cmUiLCJwb2ludGVySWQiLCJzdGFydFgiLCJ4IiwiZHgiLCJNYXRoIiwiYWJzIl0sIm1hcHBpbmdzIjoiQUFBQSxJQUFJQSxXQUFhQyxTQUFTQyxjQUFjLG1CQUNwQ0MsS0FBT0YsU0FBU0MsY0FBYyxnQkFFbENGLFdBQVdJLGlCQUFpQixRQUFTLFdBQ25DRCxLQUFLRSxVQUFVQyxPQUFPLHlCQUd4QixJQU9JQyxLQVBBQyxLQUFPUCxTQUFTQyxjQUFjLFNBRTlCTyxTQUFXUixTQUFTQyxjQUFjLG1CQUVsQ1EsZUFBaUJELFNBQVNFLFFBQVFULGNBQWMsV0FDaERVLGNBQWdCSCxTQUFTRSxRQUFRVCxjQUFjLG9CQUkvQ1csSUFBTSxJQUFJQyxlQUNkRCxJQUFJRSxLQUFLLE1BQU8sZUFBZSxHQUMvQkYsSUFBSUcsT0FDYyxLQUFkSCxJQUFJSSxPQUNOQyxNQUFPTCxJQUFJSSxPQUFTLEtBQU9KLElBQUlNLFlBRS9CWixLQUFPYSxLQUFLQyxNQUFNUixJQUFJUyxjQUd4QixJQUFJQyxPQUFTaEIsS0FBS2dCLE9BRWxCLFNBQVNDLHNCQUFzQkMsR0FDN0IsSUFBSUMsRUFBTXpCLFNBQVMwQixjQUFjLE9BRWpDLE9BREFELEVBQUlFLFVBQVlILEVBQVdJLE9BQ3BCSCxFQUFJSSxXQUdiLFNBQVNDLGNBQWN0QixFQUFVdUIsR0FDL0IsSUFBSUMsRUFBU3hCLEVBQVN5QixVQU90QixPQU5BQyxPQUFPQyxLQUFLSixHQUFXSyxRQUFRLFNBQVVDLEdBQ2hCLE9BQW5CTixFQUFVTSxLQUNaTixFQUFVTSxHQUFPLElBRW5CTCxFQUFTQSxFQUFPTSxRQUFRLE1BQVFELEVBQU0sTUFBT04sRUFBVU0sTUFFbERkLHNCQUFzQlMsR0FHL0IsSUFBSyxJQUFJTyxFQUFJLEVBQUdBLEVBQUlqQixPQUFPa0IsT0FBUUQsSUFBSyxDQUV0QyxJQUFJRSxPQUFTaEMsZUFBZWlDLFdBQVUsR0FPdEMsR0FOQUQsT0FBU1gsY0FBY3JCLGVBQWdCYSxPQUFPaUIsSUFFaEIsS0FBMUJqQixPQUFPaUIsR0FBR0ksYUFDWkYsT0FBT3hDLGNBQWMsb0JBQW9CRyxVQUFVd0MsSUFBSSw2QkFHckQsU0FBVXRCLE9BQU9pQixJQUVJLFFBQW5CakIsT0FBT2lCLEdBQUdNLEtBQWdCLENBQzVCLElBQUlDLFFBQVVuQyxjQUFjK0IsV0FBVSxHQUN0Q0QsT0FBT3hDLGNBQWMsb0JBQW9COEMsWUFBWUQsU0FLekR2QyxLQUFLd0MsWUFBWU4sUUFHbkIsSUFBSU8sZUFBaUJoRCxTQUFTQyxjQUFjLG9CQUN4Q2dELE1BQVFqRCxTQUFTQyxjQUFjLGtCQUUvQmlELFlBQWNGLGVBQWVHLFlBQzdCQyxXQUFhSCxNQUFNRSxZQUV2QkYsTUFBTUksTUFBTUMsS0FBTyxNQUVuQixJQUFJQyxlQUFpQixLQUVyQkMsT0FBT3JELGlCQUFpQixTQUFVLFdBQ2hDK0MsWUFBY0YsZUFBZUcsWUFDN0JGLE1BQU1JLE1BQU1DLEtBQU8sUUFHckJOLGVBQWU3QyxpQkFBaUIsY0FBZSxTQUFVc0QsR0FDdkRULGVBQWVVLGtCQUFrQkQsRUFBTUUsV0FFdkNKLGVBQWlCLENBQ2ZLLE9BQVFILEVBQU1JLEtBSWxCYixlQUFlN0MsaUJBQWlCLGNBQWUsU0FBVXNELEdBQ3ZELEdBQUtGLGVBQUwsQ0FJQSxJQUFJSyxFQUFTTCxlQUFlSyxPQUN4QkMsRUFBSUosRUFBTUksRUFDVkMsRUFBS0QsRUFBSUQsRUFDVE4sRUFBNEMsRUFBckNMLE1BQU1JLE1BQU1DLEtBQUtoQixRQUFRLEtBQU0sSUFFckMsRUFBTHdCLEVBQVNSLEdBQVFTLEtBQUtDLElBQUlGLEdBQU1SLEdBQVFTLEtBQUtDLElBQUlGLEdBRXRDLEVBQVBSLElBQ0ZBLEVBQU8sR0FHTEEsRUFBT0osWUFBY0UsYUFDdkJFLEVBQU9KLFlBQWNFLFlBR3ZCSCxNQUFNSSxNQUFNQyxLQUFPQSxFQUFPLEtBQzFCQyxlQUFlSyxPQUFTQyxLQUkxQmIsZUFBZTdDLGlCQUFpQixZQUFhLFdBQzNDb0QsZUFBaUIiLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBidXR0b25NZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLW1lbnUtYnV0dG9uJyk7XG52YXIgbWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItbWVudScpO1xuXG5idXR0b25NZW51LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICBtZW51LmNsYXNzTGlzdC50b2dnbGUoJ2hlYWRlci1tZW51LS1vcGVuZWQnKTtcbn0pO1xuXG52YXIgZ3JpZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ncmlkJyk7XG5cbnZhciB0ZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtb2R1bGVUZW1wbGF0ZScpO1xuXG52YXIgbW9kdWxlVGVtcGxhdGUgPSB0ZW1wbGF0ZS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2R1bGUnKTtcbnZhciBtb2R1bGVQaWN0dXJlID0gdGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19waWN0dXJlJyk7XG5cbnZhciBkYXRhO1xuXG52YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG54aHIub3BlbignR0VUJywgJ2V2ZW50cy5qc29uJywgZmFsc2UpO1xueGhyLnNlbmQoKTtcbmlmICh4aHIuc3RhdHVzICE9IDIwMCkge1xuICBhbGVydCggeGhyLnN0YXR1cyArICc6ICcgKyB4aHIuc3RhdHVzVGV4dCApO1xufSBlbHNlIHtcbiAgZGF0YSA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCk7XG59XG5cbnZhciBldmVudHMgPSBkYXRhLmV2ZW50cztcblxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudEZyb21IVE1MKGh0bWxTdHJpbmcpIHtcbiAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBkaXYuaW5uZXJIVE1MID0gaHRtbFN0cmluZy50cmltKCk7XG4gIHJldHVybiBkaXYuZmlyc3RDaGlsZDtcbn1cblxuZnVuY3Rpb24gcGFyc2VUZW1wbGF0ZSh0ZW1wbGF0ZSwgdmFyaWFibGVzKSB7XG4gIHZhciByZXN1bHQgPSB0ZW1wbGF0ZS5vdXRlckhUTUw7XG4gIE9iamVjdC5rZXlzKHZhcmlhYmxlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKHZhcmlhYmxlc1trZXldID09PSBudWxsKSB7XG4gICAgICB2YXJpYWJsZXNba2V5XSA9ICcnO1xuICAgIH1cbiAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZSgne3sgJyArIGtleSArICcgfX0nLCB2YXJpYWJsZXNba2V5XSk7XG4gIH0pO1xuICByZXR1cm4gY3JlYXRlRWxlbWVudEZyb21IVE1MKHJlc3VsdCk7XG59XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKSB7XG5cbiAgdmFyIG1vZHVsZSA9IG1vZHVsZVRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcbiAgbW9kdWxlID0gcGFyc2VUZW1wbGF0ZShtb2R1bGVUZW1wbGF0ZSwgZXZlbnRzW2ldKTtcblxuICBpZiAoZXZlbnRzW2ldLmRlc2NyaXB0aW9uID09PSAnJykge1xuICAgIG1vZHVsZS5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19tZXNzYWdlJykuY2xhc3NMaXN0LmFkZCgnbW9kdWxlX19tZXNzYWdlLS1kaXNhYmxlZCcpO1xuICB9XG5cbiAgaWYgKCdkYXRhJyBpbiBldmVudHNbaV0pIHtcblxuICAgIGlmIChldmVudHNbaV0uaWNvbiA9PT0gJ2NhbScpIHtcbiAgICAgIHZhciBwaWN0dXJlID0gbW9kdWxlUGljdHVyZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBtb2R1bGUucXVlcnlTZWxlY3RvcignLm1vZHVsZV9fbWVzc2FnZScpLmFwcGVuZENoaWxkKHBpY3R1cmUpO1xuICAgIH1cblxuICB9XG5cbiAgZ3JpZC5hcHBlbmRDaGlsZChtb2R1bGUpO1xufVxuXG52YXIgaW1hZ2VDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19waWN0dXJlJyk7XG52YXIgaW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kdWxlX19pbWFnZScpO1xuXG52YXIgaW1hZ2VXaW5kb3cgPSBpbWFnZUNvbnRhaW5lci5vZmZzZXRXaWR0aDtcbnZhciBpbWFnZVdpZHRoID0gaW1hZ2Uub2Zmc2V0V2lkdGg7XG5cbmltYWdlLnN0eWxlLmxlZnQgPSAnMHB4JztcblxudmFyIGN1cnJlbnRHZXN0dXJlID0gbnVsbDtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uKCkge1xuICBpbWFnZVdpbmRvdyA9IGltYWdlQ29udGFpbmVyLm9mZnNldFdpZHRoO1xuICBpbWFnZS5zdHlsZS5sZWZ0ID0gJzBweCc7XG59KTtcblxuaW1hZ2VDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgaW1hZ2VDb250YWluZXIuc2V0UG9pbnRlckNhcHR1cmUoZXZlbnQucG9pbnRlcklkKTtcblxuICBjdXJyZW50R2VzdHVyZSA9IHtcbiAgICBzdGFydFg6IGV2ZW50LnhcbiAgfTtcbn0pO1xuXG5pbWFnZUNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIGZ1bmN0aW9uIChldmVudCkge1xuICBpZiAoIWN1cnJlbnRHZXN0dXJlKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICB2YXIgc3RhcnRYID0gY3VycmVudEdlc3R1cmUuc3RhcnRYO1xuICB2YXIgeCA9IGV2ZW50Lng7XG4gIHZhciBkeCA9IHggLSBzdGFydFg7XG4gIHZhciBsZWZ0ID0gaW1hZ2Uuc3R5bGUubGVmdC5yZXBsYWNlKCdweCcsICcnKSAqIDE7XG5cbiAgZHggPiAwID8gbGVmdCArPSBNYXRoLmFicyhkeCkgOiBsZWZ0IC09IE1hdGguYWJzKGR4KTtcblxuICBpZiAobGVmdCA+IDApIHtcbiAgICBsZWZ0ID0gMDtcbiAgfVxuXG4gIGlmIChsZWZ0IDwgaW1hZ2VXaW5kb3cgLSBpbWFnZVdpZHRoKSB7XG4gICAgbGVmdCA9IGltYWdlV2luZG93IC0gaW1hZ2VXaWR0aDtcbiAgfVxuXG4gIGltYWdlLnN0eWxlLmxlZnQgPSBsZWZ0ICsgJ3B4JztcbiAgY3VycmVudEdlc3R1cmUuc3RhcnRYID0geDtcbn0pO1xuXG5cbmltYWdlQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIGZ1bmN0aW9uICgpIHtcbiAgY3VycmVudEdlc3R1cmUgPSBudWxsO1xufSk7XG5cbiJdfQ==
